<!DOCTYPE html>
<html>
  <head>
	<style type="text/css">
	  html, body, #map-canvas {
		height: 100%; margin: 0; padding: 0;
	  }
	</style>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&key=AIzaSyBhbw_tF7i0EWhPzJN4dRoO__fU2KBZp74">
	</script>
	<script type="text/javascript">
	  function initialize() {
		var text = '[{ "lat": 40.89755, "lng": -73.806027, "tag": o},{ "lat": 40.984896, "lng": -73.720602, "tag": o},{ "lat": 41.148243, "lng": -73.735093, "tag": o},{ "lat": 40.943219, "lng": -73.861112, "tag": o},{ "lat": 41.022385, "lng": -73.982757, "tag": o},{ "lat": 41.010506, "lng": -73.810211, "tag": o},{ "lat": 40.995038, "lng": -73.722185, "tag": o},{ "lat": 41.228647, "lng": -73.571657, "tag": o},{ "lat": 41.0596235, "lng": -73.7461881, "tag": o},{ "lat": 40.929561, "lng": -73.82464, "tag": o},{ "lat": 40.96353, "lng": -73.766166, "tag": o},{ "lat": 41.049794, "lng": -73.849272, "tag": o},{ "lat": 41.094988, "lng": -73.865197, "tag": o},{ "lat": 41.4005451, "lng": -74.2419021, "tag": b},{ "lat": 40.7372031, "lng": -73.7786906, "tag": o},{ "lat": 41.273641, "lng": -73.613752, "tag": o},{ "lat": 41.043315, "lng": -73.827662, "tag": o},{ "lat": 40.991732, "lng": -73.7268069, "tag": o},{ "lat": 41.008681, "lng": -73.766952, "tag": o},{ "lat": 41.1268562, "lng": -73.635801, "tag": o},{ "lat": 41.090102, "lng": -73.863913, "tag": o},{ "lat": 41.011639, "lng": -73.775102, "tag": o},{ "lat": 41.023791, "lng": -73.861421, "tag": o},{ "lat": 40.9497565, "lng": -73.711464, "tag": o},{ "lat": 40.921512, "lng": -73.902576, "tag": o},{ "lat": 40.950315, "lng": -73.753945, "tag": o},{ "lat": 41.025352, "lng": -73.8681129, "tag": o},{ "lat": 41.031642, "lng": -73.869382, "tag": o},{ "lat": 41.063706, "lng": -73.8345583, "tag": o},{ "lat": 41.103491, "lng": -73.864833, "tag": o},{ "lat": 41.047576, "lng": -73.677363, "tag": o},{ "lat": 40.950855, "lng": -73.709422, "tag": o},{ "lat": 41.597603, "lng": -73.772485, "tag": b},{ "lat": 41.002365, "lng": -73.74075, "tag": o},{ "lat": 41.128137, "lng": -73.633019, "tag": o},{ "lat": 41.0377214, "lng": -73.7754133, "tag": o},{ "lat": 41.2581428, "lng": -74.2106816, "tag": o},{ "lat": 41.171127, "lng": -73.667721, "tag": o},{ "lat": 40.945171, "lng": -73.714995, "tag": o},{ "lat": 40.9308306, "lng": -73.7469781, "tag": o},{ "lat": 40.920977, "lng": -73.744411, "tag": o},{ "lat": 41.2079949, "lng": -73.586237, "tag": o},{ "lat": 40.9422605, "lng": -73.8254133, "tag": o},{ "lat": 41.023803, "lng": -73.867893, "tag": o},{ "lat": 41.2759798, "lng": -74.4110971, "tag": o},{ "lat": 40.7715948, "lng": -73.9482507, "tag": o},{ "lat": 41.0266806, "lng": -73.5204825, "tag": o},{ "lat": 41.132839, "lng": -73.853651, "tag": o},{ "lat": 41.077199, "lng": -73.853917, "tag": o},{ "lat": 41.077199, "lng": -73.853917, "tag": o},{ "lat": 40.959817, "lng": -73.7678767, "tag": o},{ "lat": 40.977209, "lng": -73.8088439, "tag": o},{ "lat": 41.042511, "lng": -73.8285269, "tag": o},{ "lat": 41.153076, "lng": -73.710489, "tag": o},{ "lat": 41.038897, "lng": -73.8129809, "tag": o},{ "lat": 40.999175, "lng": -73.719386, "tag": o},{ "lat": 41.312661, "lng": -74.271595, "tag": o},{ "lat": 41.125306, "lng": -73.759522, "tag": o},{ "lat": 41.138865, "lng": -73.848665, "tag": o},{ "lat": 40.907545, "lng": -73.805873, "tag": o},{ "lat": 41.016618, "lng": -73.792071, "tag": o},{ "lat": 41.206416, "lng": -73.605485, "tag": o},{ "lat": 41.3280715, "lng": -73.65079, "tag": o},{ "lat": 41.140701, "lng": -73.785623, "tag": o},{ "lat": 41.065549, "lng": -73.738421, "tag": o},{ "lat": 41.211592, "lng": -73.7376309, "tag": o},{ "lat": 41.123943, "lng": -73.865572, "tag": o},{ "lat": 41.142129, "lng": -74.09087, "tag": o},{ "lat": 41.142139, "lng": -73.84293, "tag": o},{ "lat": 41.030325, "lng": -73.9773311, "tag": o},{ "lat": 41.401753, "lng": -73.895543, "tag": o},{ "lat": 40.993981, "lng": -73.700219, "tag": o},{ "lat": 40.996322, "lng": -73.721613, "tag": o},{ "lat": 41.193402, "lng": -73.718103, "tag": o},{ "lat": 41.142511, "lng": -73.81934, "tag": o},{ "lat": 41.035693, "lng": -73.5844259, "tag": o},{ "lat": 40.790127, "lng": -73.977357, "tag": o},{ "lat": 41.083869, "lng": -73.65212, "tag": o},{ "lat": 41.047974, "lng": -73.737373, "tag": o},{ "lat": 41.0652451, "lng": -73.8405081, "tag": o},{ "lat": 41.272029, "lng": -73.8421369, "tag": o},{ "lat": 41.130617, "lng": -73.832663, "tag": o},{ "lat": 41.067148, "lng": -73.741754, "tag": o},{ "lat": 40.821725, "lng": -73.809845, "tag": b},{ "lat": 40.932305, "lng": -73.820148, "tag": o},{ "lat": 41.0676355, "lng": -73.8389719, "tag": o},{ "lat": 41.161634, "lng": -73.838626, "tag": o},{ "lat": 41.018738, "lng": -73.706715, "tag": o},{ "lat": 41.2455339, "lng": -74.0417628, "tag": o},{ "lat": 41.223373, "lng": -73.60831, "tag": o},{ "lat": 41.1374939, "lng": -73.863955, "tag": o},{ "lat": 41.140638, "lng": -73.7869259, "tag": o},{ "lat": 40.908002, "lng": -73.809323, "tag": o},{ "lat": 41.048219, "lng": -74.087099, "tag": o}]';


		obj = JSON.parse(text);

		var mapOptions = {
		  center: { lat: 41.068582, lng: -73.846048},
		  zoom: 6
		};
		var map = new google.maps.Map(document.getElementById('map-canvas'),
			mapOptions);
		  map.data.loadGeoJson('https://storage.googleapis.com/maps-devrel/google.json');
		var infowindow = new google.maps.InfoWindow();

		var circleStar = {
			path: 'M 125,5 155,90 245,90 175,145 200,230 125,180 50,230 75,145 5,90 95,90 z',
			fillColor: 'yellow',
			fillOpacity: 0.8,
			scale: 1,
			strokeColor: 'blue',
			strokeWeight: 14
		  };
		  var marker = new google.maps.Marker({
			map: map,
			// Define the place with a location, and a query string.
			place: {
			  location: {lat: -33.8666, lng: 151.1958},
			  query: 'Google, Sydney, Australia'

			},
			// Attributions help users find your site again.
			attribution: {
			  source: 'Google Maps JavaScript API',
			  webUrl: 'https://developers.google.com/maps/'
			}
		  });

		var geocoder = new google.maps.Geocoder();
		//for (y = 0; y<obj.length; y++){ console.log(obj[y].Address) }
		for (var i = 0; i < obj.length; i++) {

			var address = obj[i];
			//console.log(address);

			var infowindowq = new google.maps.InfoWindow({
					content: 'Hello friend!'
				});

				var marquer = new google.maps.Marker({
							map: map,
							// Define the place with a location, and a query string.
							//icon: circleStar,
							place: {
							  location: {lat: obj[i].lat, lng: obj[i].lng},
							  query: 'Address'

							},
							// Attributions help users find your site again.
							attribution: {
							  source: 'Google Maps JavaScript API',
							  webUrl: 'https://developers.google.com/maps/'
							}
						  });
				if (obj[i].tag == 'b') {
					marquer.setIcon('http://maps.google.com/mapfiles/ms/icons/green-dot.png')
				};
				marquer.addListener('click', function() {
					infowindowq.open(map, marquer);
				}); 
		  };



		  
		  // Construct a new InfoWindow.
		  var infowindow = new google.maps.InfoWindow({
			content: 'Google Sydney'
		  });

		  // Opens the InfoWindow when marker is clicked.
		  marker.addListener('click', function() {
			infowindow.open(map, marker);
		  });
		  setTimeout(function(){}, 1000);
	  }
	  google.maps.event.addDomListener(window, 'load', initialize);
	</script>
	<script type="text/javascript">
	function getinfo() {
		alert("Â© 2015 James Spann and Jules Oppenheim")
	}
	</script>
  </head>
  <body>
<div id="map-canvas"></div>
<img src="info.png" alt="Info about this" onclick="getinfo()" style="position: fixed; top: 5px; left: 5px;">
  </body>
</html>
