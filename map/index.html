<!DOCTYPE html>
<html>
  <head>
	<style type="text/css">
	  html, body, #map-canvas {
		height: 100%; margin: 0; padding: 0;
	  }
	</style>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&key=AIzaSyBhbw_tF7i0EWhPzJN4dRoO__fU2KBZp74">
	</script>
	<script type="text/javascript">
	  function initialize() {
		var text = '[{ "lat": 40.89755, "lng": -73.806027, "college": "Duke", "collat": 3.2016889, "collng": 101.6970651, "tag": "o"},{ "lat": 40.984896, "lng": -73.720602, "college": "Dartmouth", "collat": 41.6130323, "collng": -70.9704787, "tag": "o"},{ "lat": 41.148243, "lng": -73.735093, "college": "Annapolis", "collat": 38.9784453, "collng": -76.4921829, "tag": "o"},{ "lat": 40.943219, "lng": -73.861112, "college": "Claremont McKenna College", "collat": 34.1016553, "collng": -117.7075909, "tag": "o"},{ "lat": 41.022385, "lng": -73.982757, "college": "Gettysburg", "collat": 39.8309293, "collng": -77.2310955, "tag": "o"},{ "lat": 41.010506, "lng": -73.810211, "college": "Cornell", "collat": 42.4534492, "collng": -76.4735027, "tag": "o"},{ "lat": 40.995038, "lng": -73.722185, "college": "Barnard", "collat": 38.6369497, "collng": -97.2136338, "tag": "o"},{ "lat": 41.228647, "lng": -73.571657, "college": "Franklin and Marshall", "collat": 40.04748, "collng": -76.317913, "tag": "o"},{ "lat": 41.0596235, "lng": -73.7461881, "college": "Syracuse University", "collat": 43.0391534, "collng": -76.1351158, "tag": "o"},{ "lat": 40.929561, "lng": -73.82464, "college": "Bowdoin", "collat": 43.9067324, "collng": -69.9637933, "tag": "o"},{ "lat": 40.96353, "lng": -73.766166, "college": "John Hopkins", "collat": 44.9181498, "collng": -93.3841996, "tag": "o"},{ "lat": 41.049794, "lng": -73.849272, "college": "Davidson", "collat": 35.4993031, "collng": -80.8486846, "tag": "o"},{ "lat": 41.094988, "lng": -73.865197, "college": "Lehigh", "collat": 42.3599729, "collng": -94.0521771, "tag": "o"},{ "lat": 41.4005451, "lng": -74.2419021, "college": "Boston University", "collat": 42.3504997, "collng": -71.1053991, "tag": "b"},{ "lat": 40.7372031, "lng": -73.7786906, "college": "Amherst", "collat": 42.3403799, "collng": -72.4968189, "tag": "b"},{ "lat": 41.273641, "lng": -73.613752, "college": "Northeastern", "collat": 39.9333565, "collng": -83.6817126, "tag": "o"},{ "lat": 41.043315, "lng": -73.827662, "college": "Yale", "collat": 41.3163244, "collng": -72.9223431, "tag": "o"},{ "lat": 40.991732, "lng": -73.7268069, "college": "Cornell", "collat": 42.4534492, "collng": -76.4735027, "tag": "o"},{ "lat": 41.008681, "lng": -73.766952, "college": "Emory", "collat": 32.874566, "collng": -95.7655183, "tag": "o"},{ "lat": 41.1268562, "lng": -73.635801, "college": "Saint lawrence university", "collat": 44.5890632, "collng": -75.1621818, "tag": "o"},{ "lat": 41.090102, "lng": -73.863913, "college": "NYU", "collat": 21.181173, "collng": 94.930563, "tag": "o"},{ "lat": 41.011639, "lng": -73.775102, "college": "Denison ", "collat": 33.7556593, "collng": -96.536658, "tag": "o"},{ "lat": 41.023791, "lng": -73.861421, "college": "Trinity College", "collat": 41.747078, "collng": -72.690375, "tag": "o"},{ "lat": 40.9497565, "lng": -73.711464, "college": "Cornell", "collat": 42.4534492, "collng": -76.4735027, "tag": "o"},{ "lat": 40.921512, "lng": -73.902576, "college": "Cornell", "collat": 42.4534492, "collng": -76.4735027, "tag": "o"},{ "lat": 40.950315, "lng": -73.753945, "college": "St. Andrews", "collat": 56.335054, "collng": -2.8063431, "tag": "o"},{ "lat": 41.025352, "lng": -73.8681129, "college": "Tufts", "collat": 42.4074843, "collng": -71.1190232, "tag": "o"},{ "lat": 41.031642, "lng": -73.869382, "college": "University of Colorado Boulder", "collat": 40.007581, "collng": -105.2659417, "tag": "o"},{ "lat": 41.063706, "lng": -73.8345583, "college": "Saint lawrence university", "collat": 44.5890632, "collng": -75.1621818, "tag": "o"},{ "lat": 41.047576, "lng": -73.677363, "college": "Vanderbilt", "collat": 36.1447034, "collng": -86.8026551, "tag": "o"},{ "lat": 40.950855, "lng": -73.709422, "college": "Cornell-LR", "collat": 42.4472414, "collng": -76.4810397, "tag": "o"},{ "lat": 41.597603, "lng": -73.772485, "college": "Middlebury", "collat": 44.0153371, "collng": -73.16734, "tag": "b"},{ "lat": 41.002365, "lng": -73.74075, "college": "Tulane", "collat": 29.9595711, "collng": -90.0863581, "tag": "o"},{ "lat": 41.128137, "lng": -73.633019, "college": "Vanderbilt", "collat": 36.1447034, "collng": -86.8026551, "tag": "o"},{ "lat": 41.0377214, "lng": -73.7754133, "college": "American University", "collat": 38.9368448, "collng": -77.0908767, "tag": "o"},{ "lat": 41.2581428, "lng": -74.2106816, "college": "Brandeis", "collat": 42.3662666, "collng": -71.2592083, "tag": "o"},{ "lat": 41.171127, "lng": -73.667721, "college": "George Washington University", "collat": 38.8997145, "collng": -77.0485992, "tag": "o"},{ "lat": 40.945171, "lng": -73.714995, "college": "Yale ", "collat": 41.3163244, "collng": -72.9223431, "tag": "o"},{ "lat": 40.9308306, "lng": -73.7469781, "college": "U Rochester ", "collat": 43.16103, "collng": -77.6109219, "tag": "o"},{ "lat": 40.920977, "lng": -73.744411, "college": "Bentley University", "collat": 42.3856989, "collng": -71.22168, "tag": "o"},{ "lat": 41.2079949, "lng": -73.586237, "college": "Cornell", "collat": 42.4534492, "collng": -76.4735027, "tag": "o"},{ "lat": 40.9422605, "lng": -73.8254133, "college": "Williams", "collat": 48.432044, "collng": -103.2923954, "tag": "o"},{ "lat": 41.023803, "lng": -73.867893, "college": "Bucknell ", "collat": 52.359723, "collng": -2.949593, "tag": "o"},{ "lat": 41.2759798, "lng": -74.4110971, "college": "Northwestern", "collat": -13.0050258, "collng": 24.9042208, "tag": "o"},{ "lat": 40.7715948, "lng": -73.9482507, "college": "Northeastern", "collat": 39.9333565, "collng": -83.6817126, "tag": "o"},{ "lat": 41.0266806, "lng": -73.5204825, "college": "Elon", "collat": 36.0982762, "collng": -79.5115433, "tag": "o"},{ "lat": 41.132839, "lng": -73.853651, "college": "Finland", "collat": 61.92411, "collng": 25.748151, "tag": "o"},{ "lat": 41.077199, "lng": -73.853917, "college": "Scripps", "collat": 32.8843614, "collng": -117.2251386, "tag": "o"},{ "lat": 41.077199, "lng": -73.853917, "college": "Carnegie Mellon", "collat": 40.4424925, "collng": -79.9425528, "tag": "o"},{ "lat": 40.959817, "lng": -73.7678767, "college": "Duke", "collat": 3.2016889, "collng": 101.6970651, "tag": "o"},{ "lat": 40.977209, "lng": -73.8088439, "college": "Wake Forest", "collat": 35.9798734, "collng": -78.5097228, "tag": "o"},{ "lat": 41.042511, "lng": -73.8285269, "college": "Vanderbilt", "collat": 36.1447034, "collng": -86.8026551, "tag": "o"},{ "lat": 41.153076, "lng": -73.710489, "college": "Emory", "collat": 32.874566, "collng": -95.7655183, "tag": "o"},{ "lat": 41.038897, "lng": -73.8129809, "college": "Quinnipiac", "collat": 41.4215674, "collng": -72.8944607, "tag": "o"},{ "lat": 40.999175, "lng": -73.719386, "college": "University of Virginia", "collat": 38.0335529, "collng": -78.5079772, "tag": "o"},{ "lat": 41.312661, "lng": -74.271595, "college": "Columbia University", "collat": 40.8075355, "collng": -73.9625727, "tag": "o"},{ "lat": 41.125306, "lng": -73.759522, "college": "Cornell-agriculture", "collat": 42.8773333, "collng": -77.0072608, "tag": "o"},{ "lat": 41.138865, "lng": -73.848665, "college": "West Point", "collat": 37.5233298, "collng": -76.7626298, "tag": "o"},{ "lat": 40.907545, "lng": -73.805873, "college": "Duke", "collat": 3.2016889, "collng": 101.6970651, "tag": "o"},{ "lat": 41.016618, "lng": -73.792071, "college": "American University", "collat": 38.9368448, "collng": -77.0908767, "tag": "o"},{ "lat": 41.206416, "lng": -73.605485, "college": "Bowdoin", "collat": 43.9067324, "collng": -69.9637933, "tag": "o"},{ "lat": 41.3280715, "lng": -73.65079, "college": "Franklin and Marshall", "collat": 40.04748, "collng": -76.317913, "tag": "o"},{ "lat": 41.140701, "lng": -73.785623, "college": "Wake Forest", "collat": 35.9798734, "collng": -78.5097228, "tag": "o"},{ "lat": 41.065549, "lng": -73.738421, "college": "NYU", "collat": 21.181173, "collng": 94.930563, "tag": "o"},{ "lat": 41.211592, "lng": -73.7376309, "college": "UMiami", "collat": 25.7616798, "collng": -80.1917902, "tag": "o"},{ "lat": 41.123943, "lng": -73.865572, "college": "Missing", "collat": -25.994065, "collng": 152.5615394, "tag": "o"},{ "lat": 41.142129, "lng": -74.09087, "college": "CalTech", "collat": 34.1376576, "collng": -118.125269, "tag": "o"},{ "lat": 41.142139, "lng": -73.84293, "college": "Bowdoin", "collat": 43.9067324, "collng": -69.9637933, "tag": "o"},{ "lat": 41.030325, "lng": -73.9773311, "college": "U Pitt", "collat": 40.4443533, "collng": -79.960835, "tag": "o"},{ "lat": 41.401753, "lng": -73.895543, "college": "U Miami", "collat": 25.7616798, "collng": -80.1917902, "tag": "o"},{ "lat": 40.993981, "lng": -73.700219, "college": "U Penn", "collat": 41.2033216, "collng": -77.1945247, "tag": "o"},{ "lat": 40.996322, "lng": -73.721613, "college": "Cornell", "collat": 42.4534492, "collng": -76.4735027, "tag": "o"},{ "lat": 41.193402, "lng": -73.718103, "college": "Stanford", "collat": 37.424106, "collng": -122.1660756, "tag": "o"},{ "lat": 41.142511, "lng": -73.81934, "college": "U Mich", "collat": 44.3148443, "collng": -85.6023643, "tag": "o"},{ "lat": 41.035693, "lng": -73.5844259, "college": "Wash U", "collat": 47.7510741, "collng": -120.7401386, "tag": "o"},{ "lat": 40.790127, "lng": -73.977357, "college": "Emory", "collat": 32.874566, "collng": -95.7655183, "tag": "o"},{ "lat": 41.083869, "lng": -73.65212, "college": "Middlebury", "collat": 44.0153371, "collng": -73.16734, "tag": "o"},{ "lat": 41.047974, "lng": -73.737373, "college": "Yale-NUS (Singapore)", "collat": 1.306434, "collng": 103.771666, "tag": "o"},{ "lat": 41.0652451, "lng": -73.8405081, "college": "", "collat": 38.9850924, "collng": -76.9364883, "tag": "o"},{ "lat": 41.272029, "lng": -73.8421369, "college": "Stevens institute of technology", "collat": 40.7443226, "collng": -74.0258682, "tag": "o"},{ "lat": 41.130617, "lng": -73.832663, "college": "Northwestern", "collat": -13.0050258, "collng": 24.9042208, "tag": "o"},{ "lat": 41.067148, "lng": -73.741754, "college": "Cornell", "collat": 42.4534492, "collng": -76.4735027, "tag": "o"},{ "lat": 40.821725, "lng": -73.809845, "college": "Goucher", "collat": 34.9815172, "collng": -81.6970441, "tag": "b"},{ "lat": 40.932305, "lng": -73.820148, "college": "Wake Forest", "collat": 35.9798734, "collng": -78.5097228, "tag": "o"},{ "lat": 41.0676355, "lng": -73.8389719, "college": "University of Iowa", "collat": 41.6626963, "collng": -91.5548998, "tag": "o"},{ "lat": 41.161634, "lng": -73.838626, "college": "Lehigh ", "collat": 42.3599729, "collng": -94.0521771, "tag": "o"},{ "lat": 41.018738, "lng": -73.706715, "college": "Bowdoin", "collat": 43.9067324, "collng": -69.9637933, "tag": "o"},{ "lat": 41.2455339, "lng": -74.0417628, "college": "Cornell", "collat": 42.4534492, "collng": -76.4735027, "tag": "o"},{ "lat": 41.223373, "lng": -73.60831, "college": "U Penn", "collat": 41.2033216, "collng": -77.1945247, "tag": "o"},{ "lat": 41.1374939, "lng": -73.863955, "college": "Columbia University", "collat": 40.8075355, "collng": -73.9625727, "tag": "o"},{ "lat": 41.140638, "lng": -73.7869259, "college": "Cornell", "collat": 42.4534492, "collng": -76.4735027, "tag": "o"},{ "lat": 40.908002, "lng": -73.809323, "college": "Georgetown", "collat": 30.6332618, "collng": -97.6779842, "tag": "o"},{ "lat": 41.048219, "lng": -74.087099, "college": "Python", "collat": 21.181173, "collng": 94.930563, "tag": "o"}]';


		obj = JSON.parse(text);

		var mapOptions = {
		  center: { lat: 41.068582, lng: -73.846048},
		  zoom: 9
		};
		var map = new google.maps.Map(document.getElementById('map-canvas'),
			mapOptions);
		  map.data.loadGeoJson('https://storage.googleapis.com/maps-devrel/google.json');
		var infowindow = new google.maps.InfoWindow();

		var circleStar = {
			path: 'M 125,5 155,90 245,90 175,145 200,230 125,180 50,230 75,145 5,90 95,90 z',
			fillColor: 'yellow',
			fillOpacity: 0.8,
			scale: 1,
			strokeColor: 'blue',
			strokeWeight: 14
		  };
		  var marker = new google.maps.Marker({
			map: map,
			// Define the place with a location, and a query string.
			place: {
			  location: {lat: -33.8666, lng: 151.1958},
			  query: 'Google, Sydney, Australia'

			},
			// Attributions help users find your site again.
			attribution: {
			  source: 'Google Maps JavaScript API',
			  webUrl: 'https://developers.google.com/maps/'
			}
		  });

		var geocoder = new google.maps.Geocoder();
		for (var i = 0; i < obj.length; i++) {

			var address = obj[i];

			var infowindowq = new google.maps.InfoWindow({
					content: 'Hello friend!'
				});

				var marquer = new google.maps.Marker({
							map: map,
							// Define the place with a location, and a query string.
							draggable:false,
							animation: google.maps.Animation.DROP,
							place: {
							  location: {lat: obj[i].lat, lng: obj[i].lng},
							  query: 'Address'

							},
							// Attributions help users find your site again.
							attribution: {
							  source: 'Google Maps JavaScript API',
							  webUrl: 'https://developers.google.com/maps/'
							}
						  });
				var colmarquer = new google.maps.Marker({
							map: map,
							title:obj[i].college,
							icon: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',
							draggable:false,
							animation: google.maps.Animation.DROP,
							place: {
							  location: {lat: obj[i].collat, lng: obj[i].collng},
							  query: 'Address'

							},
							// Attributions help users find your site again.
							attribution: {
							  source: 'Google Maps JavaScript API',
							  webUrl: 'https://developers.google.com/maps/'
							}
						  });
				//colmarquer.metadata = {type: "point", id: 1};
				//colmarquer.set("name", obj[i].college);


				if (obj[i].tag == 'b') {
					marquer.setIcon('http://maps.google.com/mapfiles/ms/icons/green-dot.png')
				};

				marquer.addListener('click', function() {
					infowindowq.open(map, marquer);
				});

				colmarquer.addListener('click', function() {
					alert("College: "+ colmarquer.title)
				}); 
		  };


		  var infowindow = new google.maps.InfoWindow({
			content: 'Google Sydney'
		  });

		  // Opens the InfoWindow when marker is clicked.
		  marker.addListener('click', function() {
			infowindow.open(map, marker);
		  });
		  setTimeout(function(){}, 1000);
	  }
	  google.maps.event.addDomListener(window, 'load', initialize);
	</script>
	<script type="text/javascript">
	function getinfo() {
		alert("© 2015 James Spann and Jules Oppenheim")
	}
	</script>
  </head>
  <body>
<div id="map-canvas"></div>
<img src="info.png" alt="Info about this" onclick="getinfo()" style="position: fixed; top: 5px; left: 5px;">
  </body>
</html>
